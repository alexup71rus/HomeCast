# HomeCast - Project Instructions

## Описание проекта
HomeCast - это Android-приложение для трансляции экрана устройства в любой веб-браузер в локальной сети.
**Ключевая особенность:** Приложение работает автономно, выступая веб-сервером. Не требуется установка дополнительного ПО на компьютер.

## Архитектура
1. **Android App (Flutter):**
   - Выступает как HTTP-сервер (раздает статику: html, js, css).
   - Выступает как WebSocket сервер (для передачи кадров и сигналинга).
   - Захватывает экран через MediaProjection API.
   - Сжимает кадры и отправляет их клиентам.
   - Работает как Foreground Service (уведомление в шторке).

2. **Web Client (Frontend):**
   - Хранится в папке `assets` приложения Flutter.
   - Подключается к WebSocket открытому на телефоне.
   - Отображает поток (изначально Canvas/Image кадры, в будущем WebRTC).

## План разработки (TODO)

- [ ] **1. Инициализация Flutter проекта**
    - [ ] Создать проект в папке `App`.
    - [ ] Настроить права доступа (Internet, Foreground Service).
    - [ ] Добавить зависимости (http_server, web_socket_channel, flutter_background_service).

- [ ] **2. Портирование Web-интерфейса**
    - [ ] Перенести готовые HTML/CSS/JS из папки `Web` в `assets` Flutter проекта и адаптировать их для трансляции.
    - [ ] Реализовать HTTP сервер на Dart, который отдает эти файлы по запросу.
    - [ ] Проверить открытие сайта с телефона по IP адресу.

- [ ] **3. Реализация захвата экрана**
    - [ ] Написать нативный код (Kotlin) или найти плагин для захвата кадров.
    - [ ] Реализовать конвертацию кадров в формат (JPEG/Bytes) пригодный для отправки.

- [ ] **4. Связка (Стриминг)**
    - [ ] Поднять WebSocket сервер внутри Flutter.
    - [ ] Настроить поток: Захват -> Сжатие -> WebSocket -> Браузер (Canvas).

- [ ] **5. UI/UX Android приложения**
    - [ ] Экран с кнопкой Старт/Стоп.
    - [ ] Отображение QR кода с IP адресом телефона.
    - [ ] Уведомление в шторке с кнопкой "Остановить".
